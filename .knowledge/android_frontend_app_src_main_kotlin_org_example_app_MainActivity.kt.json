{"is_source_file": true, "format": "Kotlin", "description": "MainActivity.kt defines the main activity for an Android app that handles importing models, selecting videos, and starting transcription processing via background workers, with UI updates based on work progress.", "external_files": ["res/layout/activity_main.xml", "R (resources)", "org.example.app.stt.ModelManager", "org.example.app.ui.StatusAdapter", "org.example.app.work.TranscriptionWorker"], "external_methods": ["ModelManager.hasValidModel", "ModelManager.getCurrentModelName", "ModelManager.importModel", "StatusAdapter.clear", "StatusAdapter.addInfo", "StatusAdapter.addSuccess", "StatusAdapter.addError"], "published": ["MainActivity"], "classes": [{"name": "MainActivity", "description": "Main activity handling UI interactions, media selection, and background transcription work management."}], "methods": [{"name": "onCreate", "description": "Initializes activity, restores state, sets up UI components, and checks model status."}, {"name": "startTranscriptionWork", "description": "Starts a background transcription task, observes its progress, and updates UI accordingly."}, {"name": "clearCurrentObserver", "description": "Removes existing observer on work info to prevent leaks."}, {"name": "showModelPicker", "description": "Launches an intent to pick a model ZIP file."}, {"name": "showVideoPicker", "description": "Launches an intent to select a video file."}, {"name": "onSaveInstanceState", "description": "Save selected video URI to instance state."}, {"name": "onActivityResult", "description": "Handles result from file pickers, initiates model import or updates selected video."}, {"name": "contentResolverSafeTakePersist", "description": "Attempts to persist permission for a URI."}, {"name": "queryDisplayName", "description": "Retrieves display name for a URI."}, {"name": "importModelFromUri", "description": "Asynchronously imports model from a URI and updates UI."}, {"name": "updateStartButtonState", "description": "Enables or disables start button based on state."}, {"name": "onDestroy", "description": "Cleans up observers on activity destruction."}], "calls": ["WorkManager.getInstance(this).enqueue(req)", "WorkManager.getInstance(this).getWorkInfoByIdLiveData(req.id)", "contentResolver.query", "contentResolver.takePersistableUriPermission", "startActivityForResult", "Toast.makeText"], "search-terms": ["MainActivity", "TranscriptionWorker", "model import", "video selection", "background work", "progress observer", "UI state"], "state": 2, "file_id": 9, "knowledge_revision": 94, "git_revision": "b85e3c0bba23a0a192f6714986a26a0f1cc0c1ec", "revision_history": [{"19": ""}, {"27": ""}, {"42": "0ecc5596acf7caa440a69700c5e8b1d183149002"}, {"45": "0ecc5596acf7caa440a69700c5e8b1d183149002"}, {"46": "0ecc5596acf7caa440a69700c5e8b1d183149002"}, {"47": "0ecc5596acf7caa440a69700c5e8b1d183149002"}, {"48": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"50": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"51": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"52": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"53": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"54": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"55": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"56": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"57": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"58": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"59": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"60": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"61": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"64": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"65": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"66": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"67": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"68": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"69": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"70": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"71": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"73": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"75": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"76": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"77": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"78": "593a1b3ce8e542edd78d643660578603fe35bff3"}, {"94": "b85e3c0bba23a0a192f6714986a26a0f1cc0c1ec"}], "hash": "43179b246008d214431a2b3942f16001", "format-version": 4, "code-base-name": "android_frontend", "filename": "android_frontend/app/src/main/kotlin/org/example/app/MainActivity.kt"}